<p>
  Values are produced by some elements (e.g. ranges) for use in the substitution patterns of other elements.
  During substitution, values can be modified and combined with a set of pre-defined <b>operators</b>.
  Most of the time, values and operators should "just work".
  Sometimes it is necessary to look at the <b>types</b> of values to understand what's happening.
  In particular, which operators can be used depends on the value's types.
  Parentheses <code>(</code> and <code>)</code> can be used to clarify the order of evaluation of the operations.
</p>
<pre>{EXPRESSION} or {EXPRESSION:FORMAT}</pre>
<p>
  Values have <b>attributes</b> that may contain additional information and which can be accessed with the <code>.</code>-operator:
</p>
<pre>VALUE.ATTRIBUTE</pre>
<p>
  The available attributes depend on the value type.
  Type-specific values are always made up of only uppercase letters.
  Some value-producing elements may attach additional attributes to values (e.g. <a href="#fpselect">select</a>).
</p>
<p>
  Attributes, and operators (split into single- and two-argument operators) for all types are listed below.
  Note that some elements attach additional attributes to their values.
</p>



<article>

<h1 id="textvalue">Text</h1>

<p>
  Strings of text.
</p>

<div class="val">
<h3>Attributes</h3>
<table>
  <tr>
    <td><code>TEXT</code></td>
    <td>
      <em>Text</em><br>
      Defined for compatibility with other value types.
    </td>
  </tr>
</table>
</div>

<div class="val">
<h3>Binary Operators</h3>
<table>
  <tr>
    <td><code>+</code></td>
    <td>
      (<em>Text</em>, <em>Text</em>) → <em>Text</em><br>
      Concatenation.
    </td>
  </tr>
  <tr>
    <td><code>§</code></td>
    <td>
      (<em>Number</em>, <em>Text</em>) → <em>Text</em><br>
      Left slice.
    </td>
  </tr>
  <tr>
    <td><code>§</code></td>
    <td>
      (<em>Text</em>, <em>Number</em>) → <em>Text</em><br>
      Right slice.
    </td>
  </tr>
</table>
</div>

<p>
  A subset of Python's <a href="https://docs.python.org/3/library/string.html#formatspec">format specification mini-language</a> is implemented for Text values: <code>[[fill]align][sign][0][width]</code>.
</p>


<h1 id="numbervalue">Number</h1>

<p>
  Only integer numbers are currently supported.
  Number literals (constant values not associated with an element, e.g. <code>5</code>, <code>23</code>) can be used in operations.
</p>

<div class="val">
<h3>Attributes</h3>
<table>
  <tr>
    <td><code>TEXT</code></td>
    <td>
      <em>Text</em><br>
      The text from which the value was parsed or a text representation of the value if it was created directly.
    </td>
  </tr>
</table>
</div>

<div class="val">
<h3>Unary Operators</h3>
<table>
  <tr>
    <td><code>+</code></td>
    <td>
      (<em>Number</em>) → <em>Number</em>
    </td>
  </tr>
  <tr>
    <td><code>-</code></td>
    <td>
      (<em>Number</em>) → <em>Number</em>
    </td>
  </tr>
</table>
</div>

<div class="val">
<h3>Binary Operators</h3>
<table>
  <tr>
    <td><code>*</code></td>
    <td>
      (<em>Number</em>, <em>Number</em>) → <em>Number</em> (commutative)<br>
      Multiplication.
    </td>
  </tr>
  <tr>
    <td><code>/</code></td>
    <td>
      (<em>Number</em>, <em>Number</em>) → <em>Number</em><br>
      Division.
    </td>
  </tr>
  <tr>
    <td><code>%</code></td>
    <td>
      (<em>Number</em>, <em>Number</em>) → <em>Number</em><br>
      Modulo.
    </td>
  </tr>
  <tr>
    <td><code>+</code></td>
    <td>
      (<em>Number</em>, <em>Number</em>) → <em>Number</em> (commutative)<br>
      Addition.
    </td>
  </tr>
  <tr>
    <td><code>-</code></td>
    <td>
      (<em>Number</em>, <em>Number</em>) → <em>Number</em><br>
      Subtraction.
    </td>
  </tr>
</table>
</div>

<p>
  A subset of Python's <a href="https://docs.python.org/3/library/string.html#formatspec">format specification mini-language</a> is implemented for Number values: <code>[[fill]align][0][width]</code>.
</p>


<h1 id="datevalue">Date</h1>

<p>
  UTC dates.
</p>

<div class="val">
<h3>Attributes</h3>
<table>
  <tr>
    <td><code>TEXT</code></td>
    <td>
      <em>Text</em><br>
      The text from which the value was parsed or a text representation of the value if it was created directly.
    </td>
  </tr>
  <tr>
    <td><code>YEAR</code></td>
    <td><em>Number</em></td>
  </tr>
  <tr>
    <td><code>MONTH</code></td>
    <td><em>Number</em></td>
  </tr>
  <tr>
    <td><code>DAY</code></td>
    <td><em>Number</em></td>
  </tr>
  <tr>
    <td><code>HOUR</code></td>
    <td><em>Number</em></td>
  </tr>
  <tr>
    <td><code>MINUTE</code></td>
    <td><em>Number</em></td>
  </tr>
  <tr>
    <td><code>SECOND</code></td>
    <td><em>Number</em></td>
  </tr>
</table>
</div>

<div class="val">
<h3>Binary Operators</h3>
<table>
  <tr>
    <td><code>+</code></td>
    <td>
      (<em>Date</em>, <em>DateDelta</em>) → <em>Date</em> (commutative)
    </td>
  </tr>
  <tr>
    <td><code>-</code></td>
    <td>
      (<em>Date</em>, <em>DateDelta</em>) → <em>Date</em>
    </td>
  </tr>
  <tr>
    <td><code>-</code></td>
    <td>
      (<em>Date</em>, <em>Date</em>) → <em>DateDelta</em>
    </td>
  </tr>
</table>
</div>

<p>
  Date values support a subset of the <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes">strftime</a> format codes used by Python's datetime module:
</p>

<ul>
  <li><code>%d</code>: Day of the month (zero-padded).</li>
  <li><code>%m</code>: Month (zero-padded).</li>
  <li><code>%y</code>: Year without century (zero-padded)</li>
  <li><code>%Y</code>: Year with century (zero-padded)</li>
  <li><code>%H</code>: Hour (24-hour clock, zero-padded)</li>
  <li><code>%M</code>: Minute (zero-padded)</li>
  <li><code>%S</code>: Second (zero-padded)</li>
  <li><code>%%</code>: A literal percent character.</li>
</ul>

<p>
  If no specification is given, Date values default to <code>%Y-%m-%d %H:%M:%S</code>.
</p>


<h1 id="datedeltavalue">DateDelta</h1>

<p>
  Time intervals or the difference between two Dates.
  DateDelta literals (constant values not associated with an element, e.g. <code>5s</code>, <code>23m</code>, <code>12h</code>, <code>4d</code>) can be used in operations.
</p>

<div class="val">
<h3>Attributes</h3>
<table>
  <tr>
    <td><code>TEXT</code></td>
    <td>
      <em>Text</em><br>
      The text from which the value was parsed or a text representation of the value if it was created directly.
    </td>
  </tr>
  <tr>
    <td><code>SIGN</code></td>
    <td>
      <em>Number</em><br>
      Contains <code>+1</code> if the value is positive, else <code>-1</code>.
    </td>
  </tr>
  <tr>
    <td><code>DAYS</code></td>
    <td>
      <em>Number</em><br>
      Number of full days contained in the interval.
    </td>
  </tr>
  <tr>
    <td><code>HOURS</code></td>
    <td>
      <em>Number</em><br>
      Number of full hours contained in the interval after removal of all full days.
    </td>
  </tr>
  <tr>
    <td><code>MINUTES</code></td>
    <td>
      <em>Number</em><br>
      Number of full minutes contained in the interval after removal of all full hours.
    </td>
  </tr>
  <tr>
    <td><code>SECONDS</code></td>
    <td>
      <em>Number</em><br>
      Number of seconds remaining in the interval after removal of all full minutes.
    </td>
  </tr>
  <tr>
    <td><code>TOTAL_SECONDS</code></td>
    <td>
      <em>Number</em><br>
      The total number of seconds contained in the interval.
    </td>
  </tr>
</table>
</div>

<div class="val">
<h3>Unary Operators</h3>
<table>
  <tr>
    <td><code>+</code></td>
    <td>(<em>DateDelta</em>) → <em>DateDelta</em></td>
  </tr>
  <tr>
    <td><code>-</code></td>
    <td>(<em>DateDelta</em>) → <em>DateDelta</em></td>
  </tr>
</table>
</div>

<div class="val">
<h3>Binary Operators</h3>
<table>
  <tr>
    <td><code>*</code></td>
    <td>(<em>DateDelta</em>, <em>Number</em>) → <em>DateDelta</em> (commutative)</td>
  </tr>
  <tr>
    <td><code>/</code></td>
    <td>(<em>DateDelta</em>, <em>Number</em>) → <em>DateDelta</em></td>
  </tr>
  <tr>
    <td><code>/</code></td>
    <td>(<em>DateDelta</em>, <em>DateDelta</em>) → <em>Number</em></td>
  </tr>
  <tr>
    <td><code>+</code></td>
    <td>(<em>DateDelta</em>, <em>DateDelta</em>) → <em>DateDelta</em> (commutative)</td>
  </tr>
  <tr>
    <td><code>-</code></td>
    <td>(<em>DateDelta</em>, <em>DateDelta</em>) → <em>DateDelta</em></td>
  </tr>
</table>
</div>

<p>
  DateDelta does not provide formatting options at the moment.
  By default values are formatted as <code>+Dd HH:MM:SS</code>.
  Use attributes to assemble a custom format.
</p>

</article>

